<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<!-- Reloading Cache: 400 ms, 100 ms -->
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" ></script>
	<!-- Reloading Cache: ~1 s, 600 ms -->
	<script type="text/javascript" src="http://mbostock.github.com/d3/d3.js"></script>
	<script type="text/javascript" src="chartData.json"></script>
	<script src="displayChart.js" ></script>
	<link href="view.css" rel="stylesheet">
	<title>HANA Studio - Display chart</title>
</head>
<body>
	<div id="chart"></div>
	<script type="text/javascript">

	// Hotfix for local testing: convert JSON to JS file with variable chartData
	var chartData = JSON.parse(chartDataAsJson); // Example
	console.log(chartData);

	var sampleSVG = d3.select("#chart")
		.append("svg")
		.attr("width", 600)
		.attr("height", 350);

	sampleSVG.append("circle")
		.style("stroke", "gray")
		.style("fill", "white")
		.attr("r", 40)
		.attr("cx", 300)
		.attr("cy", 150)
		.on("mouseover", function(){d3.select(this).style("fill", "aliceblue");})
		.on("mouseout", function(){d3.select(this).style("fill", "white");})
		.on("mousedown", animateFirstStep);

	function animateFirstStep(){
		d3.select(this)
			.transition()            
				.delay(0)            
				.duration(1000)
				.attr("r", 10)
				.each("end", animateSecondStep); // Wait for end of first animation (or delay(1000) for sec. a.)
	};
	
	function animateSecondStep(){
		d3.select(this)
			.transition()
				.duration(1000)
				.attr("r", 40);
	};

	</script>
</body>
</html>